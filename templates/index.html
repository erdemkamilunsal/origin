{% extends 'base.html' %}

{% block content %}
    <div class="container mt-4">
        <h1 class="text-center">Sosyal Medya Verileri</h1>

        {% for base_url, categories in base_url_data.items %}
            <h2 class="mt-4">{{ base_url }} Verileri</h2>

            <!-- Finans - Corporate Tablosu -->
            {% if "corporate" in categories %}
                <h3>Corporate Kategorisi</h3>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Kaynak Kategori</th>
                                <th>Yazar Adı</th>
                                <th>Yazar Takma Adı</th>
                                <th>Yazar Takipçi Sayısı</th>
                                <th>İçerik</th>
                                <th>Kaynak</th>
                                <th>Link</th>
                                <th>Oluşturulma Zamanı</th>
                                <th>Selective Part</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for data in categories.corporate %}
                                <tr>
                                    <td>{{ data.source_category }}</td>
                                    <td>{{ data.author_name }}</td>
                                    <td>{{ data.author_nick }}</td>
                                    <td>{{ data.author_follower_count }}</td>
                                    <td>{{ data.body }}</td>
                                    <td>{{ data.source }}</td>
                                    <td><a href="{{ data.link }}" target="_blank">{{ data.link }}</a></td>
                                    <td>{{ data.created_time }}</td>
                                    <td>{{ data.selective_part }}</td>
                                </tr>
                            {% empty %}
                                <tr><td colspan="9" class="text-center">Veri bulunamadı.</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% endif %}

            <!-- Finans - Selective Tablosu -->
            {% if "selective" in categories %}
                <h3>Selective Kategorisi</h3>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Kaynak Kategori</th>
                                <th>Yazar Adı</th>
                                <th>Yazar Takma Adı</th>
                                <th>Yazar Takipçi Sayısı</th>
                                <th>İçerik</th>
                                <th>Kaynak</th>
                                <th>Link</th>
                                <th>Oluşturulma Zamanı</th>
                                <th>Selective Part</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for data in categories.selective %}
                                <tr>
                                    <td>{{ data.source_category }}</td>
                                    <td>{{ data.author_name }}</td>
                                    <td>{{ data.author_nick }}</td>
                                    <td>{{ data.author_follower_count }}</td>
                                    <td>{{ data.body }}</td>
                                    <td>{{ data.source }}</td>
                                    <td><a href="{{ data.link }}" target="_blank">{{ data.link }}</a></td>
                                    <td>{{ data.created_time }}</td>
                                    <td>{{ data.selective_part }}</td>
                                </tr>
                            {% empty %}
                                <tr><td colspan="9" class="text-center">Veri bulunamadı.</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% endif %}

            <!-- Finans - Primary Tablosu -->
            {% if "primary" in categories %}
                <h3>Primary Kategorisi</h3>
                <div class="table-responsive">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th>Kaynak Kategori</th>
                                <th>Yazar Adı</th>
                                <th>Yazar Takma Adı</th>
                                <th>Yazar Takipçi Sayısı</th>
                                <th>İçerik</th>
                                <th>Kaynak</th>
                                <th>Link</th>
                                <th>Oluşturulma Zamanı</th>
                                <th>Selective Part</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for data in categories.primary %}
                                <tr>
                                    <td>{{ data.source_category }}</td>
                                    <td>{{ data.author_name }}</td>
                                    <td>{{ data.author_nick }}</td>
                                    <td>{{ data.author_follower_count }}</td>
                                    <td>{{ data.body }}</td>
                                    <td>{{ data.source }}</td>
                                    <td><a href="{{ data.link }}" target="_blank">{{ data.link }}</a></td>
                                    <td>{{ data.created_time }}</td>
                                    <td>{{ data.selective_part }}</td>
                                </tr>
                            {% empty %}
                                <tr><td colspan="9" class="text-center">Veri bulunamadı.</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            {% endif %}

        {% endfor %}
    </div>
{% endblock %}
